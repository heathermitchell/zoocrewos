# Dockerfile for N8N deployment on Render
FROM n8nio/n8n:latest

# Set working directory
WORKDIR /data

# Create data directory with proper permissions
USER root
RUN mkdir -p /data && chown 1000:1000 /data
USER 1000

# Expose the port N8N runs on
EXPOSE 5678

# Set environment variables
ENV N8N_USER_FOLDER=/data
ENV N8N_LOG_LEVEL=info

# Start N8N
CMD ["n8n", "start"]